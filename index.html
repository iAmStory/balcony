<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Romantic Notes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            /* A standard, clean font stack is sufficient now */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            /* A soft, romantic background color */
            background-color: #fcefee;
            overflow: hidden; /* Hide scrollbars */
        }

        /* Container for the page stack */
        .page-stack-container {
            perspective: 1500px;
            width: 90vw; /* Use viewport width for responsiveness */
            height: 70vh; /* Use viewport height */
            max-width: 400px;
            max-height: 580px;
        }

        /* Individual page styling */
        .page {
            width: 100%;
            height: 100%;
            background-color: #ffffff;
            /* A soft pink border */
            border: 1px solid #f9d1d1;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            position: absolute;
            cursor: pointer;
            transition: transform 0.8s ease-in-out, opacity 0.8s ease-in-out;
            display: flex;
            justify-content: center;
            align-items: center;
            /* Padding creates a nice frame around the image */
            padding: 1rem;
        }

        /* Animation for removing a page: gently floats up and fades away */
        .page.removed {
            transform: translateY(-120vh) rotate(15deg) !important;
            opacity: 0;
            cursor: default;
        }
        
        /* Start Over Button Styling */
        #startOverBtn {
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">

    <!-- Main container for the app -->
    <div class="relative w-full h-full flex items-center justify-center flex-col">
        
        <!-- Container for the stack of pages -->
        <div id="pageStack" class="page-stack-container relative">
            <!-- Pages will be generated by JavaScript -->
        </div>

        <!-- Start Over Button -->
        <button id="startOverBtn" class="absolute bottom-10 bg-pink-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-pink-600 focus:outline-none focus:ring-2 focus:ring-pink-400 focus:ring-opacity-75 opacity-0 transform scale-0">
            Start Over
        </button>
    </div>

    <script>
        // --- DOM Elements ---
        const pageStack = document.getElementById('pageStack');
        const startOverBtn = document.getElementById('startOverBtn');
        
        // --- State & Config ---
        const totalPages = 10;
        let removedPagesCount = 0;
        
        /**
         * Creates and initializes the stack of pages with images.
         */
        function createPages() {
            // Clear any existing pages
            pageStack.innerHTML = '';
            
            for (let i = 0; i <= totalPages; i++) {
                const page = document.createElement('div');
                page.classList.add('page');
                page.dataset.pageNumber = i + 1;
                
                // Set initial transform to create the "stack" effect
                const rotation = (Math.random() - 0.5) * 6;
                const xOffset = (Math.random() - 0.5) * 8;
                page.style.transform = `rotate(${rotation}deg) translateX(${xOffset}px)`;
                
                // Set z-index so pages stack correctly
                page.style.zIndex = totalPages - i;
                
                // Add an image to each page instead of text.
                // Using picsum.photos for random images, with a seed for consistency.
                // The onerror attribute provides a fallback if the image fails to load.
                page.innerHTML = `
                    <img src="./images/${i}.png"
                         onerror="this.onerror=null;this.src='https://placehold.co/400x580/fcefee/f9d1d1?text=Image+Not+Found';"
                         alt="A romantic image"
                         class="w-full h-full object-cover rounded-md shadow-inner">
                `;

                pageStack.appendChild(page);
            }
        }

        /**
         * Resets the application to its initial state.
         */
        function resetStack() {
            removedPagesCount = 0;
            
            // Hide the start over button
            startOverBtn.classList.add('opacity-0', 'scale-0');
            startOverBtn.classList.remove('opacity-100', 'scale-100');

            // Recreate the pages
            createPages();
        }

        // --- Event Listeners ---

        // Use event delegation on the stack container
        pageStack.addEventListener('click', (e) => {
            const clickedPage = e.target.closest('.page');

            if (!clickedPage || clickedPage.classList.contains('removed')) {
                return;
            }

            clickedPage.classList.add('removed');
            removedPagesCount++;

            if (removedPagesCount === totalPages) {
                setTimeout(() => {
                    startOverBtn.classList.remove('opacity-0', 'scale-0');
                    startOverBtn.classList.add('opacity-100', 'scale-100');
                }, 800); // Delay matches the animation time
            }
        });

        // Event listener for the start over button
        startOverBtn.addEventListener('click', resetStack);

        // --- Initial Setup ---
        createPages();

    </script>
</body>
</html>
